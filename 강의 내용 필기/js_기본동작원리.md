ìë°” ìŠ¤í¬ë¦½íŠ¸ ê¸°ë³¸ ë™ì‘ ì›ë¦¬
console.log(1);
console.log(2);
console.log(3);

1
2
3

ìœ„ì—ì„œë¶€í„° ì•„ë˜ë¡œ ì°¨ë¡€ë¡œ ì½”ë“œ ì‹¤í–‰
: ë™ê¸°ì  í”„ë¡œê·¸ë˜ë°
í•˜ë‚˜í•˜ë‚˜ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰í•˜ëŠ” ê²ƒ

javascript Engine

- Memory Heap
  : ë‚´ê°€ ì €ì¥í•˜ê³  ì‹¶ì€ ë³€ìˆ˜ë“¤ì˜ ê°’ì´ë‚˜ ê¸°íƒ€ ê°’ë“¤ì„ ë‘ì„œì—†ì´ ì €ì¥í•´ ë†“ì€ ë©”ëª¨ë¦¬ ê³µê°„
  ë‚™ì„œì¥ì´ë¼ ìƒê°í•˜ë©´ ë¨

- Call Stack
  : ì‹¤í–‰ì„ í•˜ëŠ” ê²ƒ
  "Stack" ìë£Œí˜• ì¤‘ í•˜ë‚˜ (ìë£Œêµ¬ì¡°)
  > LIFO last in first out êµ¬ì¡°
  > ì‹¤í–‰ì´ ë˜ë©´ì„œ ì½œ ìŠ¤íƒì—ì„œ ë°”ë¡œ ë¹ ì ¸ë‚˜ê°€ê¸° ë•Œë¬¸ì— console.log(1)ì€ í•˜ë‚˜ì”© ë“¤ì–´ì™€ì„œ ì‹¤í–‰ë˜ë©° ë‚˜ê°€ê²Œ ë¨

console.log(1);
function test(){
console.log(2);
console.log(3);
}
test();

1
2
3

> > ì²« ë²ˆì§¸ console.log(1)ì´ call stackì— ë“¤ì–´ê°€ê³  ì‹¤í–‰ë˜ë©´ì„œ ë¹ ì ¸ë‚˜ê°
> > ì‹¤ì œ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ëŠ” ë¶€ë¶„ test()ê°€ call stackìœ¼ë¡œ!!!
> > console.log(2)ëŠ” ë°”ë¡œ í”„ë¦°íŠ¸í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì°¨ë¡€ëŒ€ë¡œ í•˜ë‚˜ì”© ë¹ ì ¸ë‚˜ê°€ê²Œ ë¨
> > ê·¸ëŸ¬ë‹¤ê°€ í•¨ìˆ˜ ì•ˆì— ë‚¨ì•„ìˆëŠ” ê²Œ ì—†ê¸° ë•Œë¬¸ì— test()ë„ ì½œ ìŠ¤íƒì—ì„œ ë¹ ì ¸ë‚˜ì˜¤ê²Œ ë¨

console.log(1);
setTimeout(()=> console.log(2),5000);
//setTimeout == delay
//ì‹¤í–‰í•˜ê³  ì‹¶ì€ ì½”ë“œ ë„£ê³ , ëª‡ ì´ˆ ë’¤ì— ì‹¤í–‰í•˜ê³  ì‹¶ì€ì§€ ì´ˆ ì •ë³´ë¥¼ ë„£ìœ¼ë©´ ë¨. ë‹¨ìœ„: ms / 1ì´ˆ == 1000ms
console.log(3);

1
3
2

ì´ê²Œ call stackì— ë“¤ì–´ê°€ê²Œ ë˜ë©´

1. console.log(1) ìŠ¤íƒì— ë“¤ì–´ì˜¤ìë§ˆì ì‹¤í–‰ë˜ë©´ì„œ ë¹ ì ¸ë‚˜ì˜´
   > > 1 ì¶œë ¥
2. setTimeout(()=> console.log(2),5000); ì½”ë“œ ìŠ¤íƒì— ë“¤ì–´ì˜¤ê³  5ì´ˆ ê¸°ë‹¤ë¦¼
3. console.log(3); ìŠ¤íƒì— ë“¤ì–´ì˜¤ìë§ˆì ì‹¤í–‰ë˜ë©´ì„œ ë¹ ì ¸ë‚˜ì˜´
4. ì´í›„!!! 2ë²ˆ ì½”ë“œ ì‹¤í–‰
   > > ë¹„ë™ê¸°ì ì¸ í”„ë¡œê·¸ë˜ë° (ìˆœì°¨ì ì´ì§€ ëª»í•¨)

ì“°ë ˆë“œ : ì‘ì—…ì„ ì‹¤í–‰ì‹œì¼œ ì£¼ëŠ” ì•  (ì•Œë°”ìƒ)
ì•Œë°”ìƒ 1ëª… == ì‹±ê¸€ ì“°ë ˆë“œ

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ëŠ” call stackì´ í•˜ë‚˜ë°–ì— ì—†ì–´ì„œ ì‘ì—…ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê²Œ ì˜¤ë©´ ë’¤ì— ìˆëŠ” ì• ë“¤ë„ ì „ë¶€ ë°€ë¦¼!!!

> > ì‘ì—…ì´ ëŠë¦¼

ê·¸ë˜ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ë¸Œë¼ìš°ì €ë¥¼ ë¶€ë¦„!!!!
ë³´í†µ ìš°ë¦¬ê°€ ì“°ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì›¹ë¸Œë¼ìš°ì €ì—ì„œ ëŒì•„ê°
:: ì›¹ë¸Œë¼ìš°ì €ì—ì„œ ì“°ë ˆë“œë¥¼ ì œê³µí•´ ì¤Œ

ë¸Œë¼ìš°ì € ì“°ë ˆë“œì—ì„œ ì§€ì›í•˜ëŠ” ê²ƒë“¤
Ajax, fetch (api í˜¸ì¶œí•˜ê±°ë‚˜ ë„¤íŠ¸ì›Œí¬ í†µì‹ ê°™ì´ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê²ƒë“¤ ë„ì™€ì¤Œ)
setTimeout (ê¸°ë‹¤ë¦¬ëŠ” ê²ƒ)
eventhandler(ë²„íŠ¼ í´ë¦­í•˜ëŠ” ì´ë²¤íŠ¸ë“¤)

1. console.log(1) ë“¤ì–´ì˜¤ê³  ì¶œë ¥
2. Timeout ì½”ë“œ call stackì— ë“¤ì–´ê°”ë‹¤ê°€ ë¸Œë¼ìš°ì €ì— ìˆëŠ” ì“°ë ˆë“œì— ë„˜ê¸°ê²Œ ë¨. ë¸Œë¼ìš°ì € ì“°ë ˆë“œì—ì„œ ì´ ì½”ë“œê°€ 5ì´ˆ ê¸°ë‹¤ë¦¬ê³  ìˆëŠ” ê²ƒ!!!
3. ê·¸ë™ì•ˆì— ìë°”ìŠ¤í¬ë¦½íŠ¸ ì“°ë ˆë“œì—ì„œëŠ” console.log(3);ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒ
4. 5ì´ˆ ê¸°ë‹¤ë¦¬ê³  ë‚œ ì´í›„ ë¸Œë¼ìš°ì € ì“°ë ˆë“œì—ì„œ setTimeout(()=> console.log(2),5000); ì½”ë“œê°€ console.log(2);ê°€ ë¨
5. console.log(2)ê°€ task queueë¡œ ê°!! (ë¸Œë¼ìš°ì €ì—ì„œ ì œê³µí•˜ëŠ” ì“°ë ˆë“œ) queue : FIFO first in first out êµ¬ì¡°
6. Task Queueì˜ ì—­í• : ë¸Œë¼ìš°ì €ì—ì„œ ì²˜ë¦¬í–ˆë˜ ê²°ê³¼ë¥¼ íì— ìŒ“ì•„ë†“ê³  ìë°”ìŠ¤í¬ë¦½íŠ¸ call stackì´ ì¼ì„ í•˜ê³  ìˆë‹¤ë©´ ì½”ë“œë¥¼ ë„˜ê¸°ì§€ ì•ŠìŒ
   > > call stackì´ ì‘ì—…ì„ ì™„ë£Œí•´ ë¹„ì–´ìˆì„ ë•Œ task queueì— ìŒ“ì•„ ë’€ë–¤ ê²°ê³¼ê°’ì„ ìë°”ìŠ¤í¬ë¦½íŠ¸ call stackì— ë³´ëƒ„

ê²°ë¡ 
:: ë¸Œë¼ìš°ì €ë„ ì“°ë ˆë“œë¥¼ ê°€ì§€ê³  ìˆê³  ì—¬ê¸°ì„œ ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ì‘ì—…ì„ ì²˜ë¦¬í•´ ì¤Œ >> Web Api
:: ë¸Œë¼ìš°ì €ì—ì„œ ì‘ì—…ì´ ëë‚˜ë„ call stackì´ ë¹„ì–´ìˆì„ ë•Œê¹Œì§€ task queueì—ì„œ ê°€ì§€ê³  ìˆëŠ” ê²ƒ
--> ìš”ê±¸ Event Loopì´ í•´ ì¤Œ

pending : ê¸°ë‹¤ë ¤ ë‹¬ë¼ëŠ” ì˜ë¯¸!!

> > ì•„ì§ ë°ì´í„°ê°€ ì•ˆ ì™”ë‹¤ëŠ” ì˜ë¯¸

1. url ì„¸íŒ… call stack (1) :: ë³€ìˆ˜ ì„¸íŒ…í•˜ëŠ” ê±°ë¼ ì‹¤í–‰ë˜ê³  ì™„ë£Œ
2. Fetch(url) call stack (2) :: ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ê²ƒ!! ë„¤íŠ¸ì›Œí¬ í†µì‹ í•˜ëŠ” ê²ƒ. ìƒëŒ€ ë„¤íŠ¸ì›Œí¬ì— ë”°ë¼ ë°”ë¡œ ë°›ì„ ìˆ˜ ìˆëŠ” ê²Œ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ë¸Œë¼ìš°ì €ë¡œ ë„˜ê¹€
3. ì—¬ê¸°ì„œ ë°›ì€ Data ë³´ì—¬ ì¤Œ call stack (3) :: fetchê°€ ëë‚˜ì„œ urlì´ ì˜¤ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì‹¤í–‰ì´ ì•ˆ ë¨
   > > task queueë¥¼ í†µí•´ fetchì˜ ê°’ì´ ì™€ì•¼ ë°ì´í„°ë¥¼ ë³´ì—¬ ì¤„ ìˆ˜ ìˆìŒ!!!

:: ê·¸ë ‡ê¸° ë•Œë¬¸ì— ê°€ë”ì”©ì€ ì‹œê°„ì´ ê±¸ë¦°ë‹¤ê³  ì „ë¶€ ë¸Œë¼ìš°ì €ë¡œ ë„˜ê¸°ëŠ” ê²Œ ì•„ë‹ˆë¼!!! ê¸°ë‹¤ë ¤ ì¤˜ì•¼ í•  ë•Œë„ ìˆìŒ

> > ìš”ê±¸ async (ë¹„ë™ê¸°ì²˜ë¦¬) / await (ê¸°ë‹¤ë ¤ ì¤­) ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒ

call stack

1. getNews() í•¨ìˆ˜
2. let url = 'asdf.com' >> ë°”ë¡œ ì‹¤í–‰ë¨
3. const response = await fetch(url);
   : fetch(url) ë–¼ì„œ ë¸Œë¼ìš°ì €ì— ë³´ëƒ„!!
   await ì „ì²´ í•¨ìˆ˜ë¥¼ ì¼ì‹œ ì •ì§€
   > > ê·¸ë˜ì„œ getNews() í•¨ìˆ˜ê°€ Task Queueì— ë“¤ì–´ê°€ê²Œ ë˜ê³  í•¨ìˆ˜ ì•ˆì— ìˆëŠ” console.log(response) ì½”ë“œ ë˜í•œ ì‹¤í–‰ì„ ì•ˆ í•˜ê²Œ ë¨
4. í•¨ìˆ˜ê°€ ì—†ê¸° ë•Œë¬¸ì— for() ë“¤ì–´ì™€ì„œ ë°”ë¡œ ì‹¤í–‰ë¨
5. ê·¸ë‹¤ìŒ call stack ë¹„ì—ˆê¸° ë•Œë¬¸ì— ë‹¤ì‹œ getNews() ì‹œì‘í•  ìˆ˜ ìˆìŒ!! await í–ˆë˜ ë¶€ë¶„ë¶€í„° ë‹¤ì‹œ ì‹œì‘
6. getNews() ë‹¤ì‹œ ì‹œì‘ë˜ë©´ì„œ fetch()ê°€ ë°ì´í„°ë¥¼ ë°›ì•„ì„œ response ì¶œë ¥í•  ìˆ˜ ìˆê²Œ ë¨

::ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë™ê¸°ì ì¸ ì–¸ì–´ë‹¤. (ìˆœì°¨ì )
ê·¸ëŸ¬ë‚˜ ëª‡ ê°œì˜ ì½”ë“œì—ëŠ” ì‹œê°„ì´ ê±¸ë¦°ë‹¤
ì´ê±¸ ì²˜ë¦¬í•´ ì£¼ëŠ” ê²ƒì´ ì“°ë ˆë“œ!! web apiì—ì„œ ì²˜ë¦¬í•´ ì¤Œ

> > ê·¸ëŸ°ë° ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ì‘ì—…ì´ ì²˜ë¦¬ë¼ì•¼ ì•„ë˜ì˜ ì½”ë“œê°€ ì‹¤í–‰ë  ìˆ˜ ìˆëŠ” ê²½ìš° ê°•ì œì ìœ¼ë¡œ asyncë‚˜ awaitì´ë€ ì½”ë“œë¥¼ í†µí•´ì„œ ê°•ì œë¡œ ê¸°ë‹¤ë ¤ ì¤„ ìˆ˜ ìˆìŒ

async()ë¥¼ í†µí•´ì„œ ë¹„ë™ê¸° í˜•ì‹ì„ ë§Œë“¤ ìˆ˜ ìˆìŒ
await()ì„ í†µí•´ì„œ ì ì‹œ ê¸°ë‹¤ë ¤ ì¤„ ìˆ˜ ìˆë‹¤
: ë¹„ë™ê¸° í•¨ìˆ˜ ë‚´ì—ì„œ ì“¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í•¨ìˆ˜ ì½”ë“œ ìœ„ì— ë¹„ë™ê¸° í•¨ìˆ˜ë¼ëŠ” í‘œí˜„ì„ í•´ ì¤˜ì•¼ í•¨
ê·¸ë˜ì•¼~!!! awaitì„ ì“¸ ìˆ˜ ìˆìŒ

PromsieëŠ” ì´ë ‡ê²Œ ìƒê²¼ë‹¤

function delayP(sec){
return new Promise((resolve, reject) => {  
 setTimeout(() => {  
 resolve("success");  
 }, sec \* 1000);  
 });
}
new Promiseë¥¼ ì´ìš©í•´ì„œ promiseë¥¼ ìƒì„±í•˜ê³ 
promise ì•ˆì—ì„œëŠ” resolveì™€ rejectí•¨ìˆ˜ë¥¼ ìë™ìœ¼ë¡œ ê°–ëŠ”ë‹¤.
resloveëŠ” ê²°ê³¼ê°€ ë¬¸ì œì—†ì´ ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë ë•Œ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜, rejectëŠ” ì¤‘ê°„ì— ì—ëŸ¬ê°€ë‚˜ë©´ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ì´ë‹¤.
resolveê°€ í˜¸ì¶œì´ë˜ë©´ ì£½ìŒì˜ ì½œë°±ëŒ€ì‹  .then()ì´ë‚˜ async/awaitì„ ì´ìš©í•˜ì—¬(ë‘˜ë‹¤ í•˜ëŠ” ì¼ì´ ë¹„ìŠ·í•˜ë‹¤.) ê·¸ ê²°ê³¼ê°’ì„ ë°›ì•„ì„œ ë‹¤ë¥¸ ì¼ì„ í• ìˆ˜ìˆë‹¤(ê²°ê³¼ë¥¼ ë³´ì—¬ì¤€ë‹¤ë˜ê°€ ê·¸ëŸ°ê²ƒë“¤)

async/awaitğŸš¦
asyncì™€ awaitì€ ë™ê¸°ì ì¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸°ìœ„í•´ì“´ë‹¤. fetchëŠ” promiseë¥¼ ë¦¬í„´ì„í•œë‹¤. ê·¸ë¦¬ê³  ìš°ë¦¬ê°€ í•„ìš”í•œê±´ ê·¸ promise ì†ì—ì„œ apií˜¸ì¶œì´ ì˜ ì´ë£¨ì–´ì ¸ ë°ì´í„°ë¥¼ ë°›ì€ë‹¤ìŒ promiseê°€ ì„±ê³µì ìœ¼ë¡œ resolve í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ”ê²ƒì´ë‹¤. ì´ê±¸ í•´ì£¼ëŠ”ê²Œ awaitì´ë‹¤. awaitì€ promiseê°€ resolveë˜ëŠ” rejectë¥¼ í˜¸ì¶œí• ë•Œ ê¹Œì§€ ê¸°ë‹¤ë ¤ì¤€ë‹¤.
awaitì´ ì—†ìœ¼ë©´ ê·¸ëƒ¥ ë‚ ê²ƒ ê·¸ëŒ€ë¡œì˜ promiseê°€ ë¦¬í„´ëœë‹¤(ìš°ë¦¬ê°€ ì˜ìƒì—ì„œ ë³¸ê²ƒì²˜ëŸ¼)
awaitì„ ì“°ë ¤ë©´ í•¨ìˆ˜ë¥¼ asyncë¡œ ì„ ì–¸í•´ì¤˜ì•¼í•œë‹¤, ë‘˜ì€ ì„¸íŠ¸ë¼ê³  ë³´ë©´ëœë‹¤.
ê·¸ê²ƒì™¸ì—ë„ asyncë¡œ í•¨ìˆ˜ë¥¼ ì„ ì–¸í•˜ë©´ ê·¸í•¨ìˆ˜ëŠ” ìë™ìœ¼ë¡œ promiseë¥¼ ë°˜í™˜í•œë‹¤(ê·¸ë§ì˜ ëœ»ì€ ë˜ ì´í•¨ìˆ˜ë¥¼ ë°›ì•„ë‹¤ê°€ ë‹¤ë¥¸ ë¹„ë™ê¸° ì‘ì—…ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ëœ»ì´ë‹¤)

json
ì„œë²„ í´ë¼ì´ì–¸íŠ¸ í†µì‹ ì—ì„œ ë§ì´ ì“°ì´ëŠ” ë°ì´í„° íƒ€ì… (png, jpgì´ëŸ°ê²ƒê³¼ ê°™ì´ ì–´ë–¤ ê·¸ëƒ¥ ë°ì´í„° íƒ€ì…ì„). ê°ì²´ë‘ ë˜‘ê°™ì´ìƒê¸´ í…ìŠ¤íŠ¸ë¼ê³  ì´í•´í•˜ë©´ ì¢‹ìŒ. ê°„ë‹¨í•œ í…ìŠ¤íŠ¸ì¸ë° ê°ì²´ë‘ ë˜‘ê°™ì• ì„œ ë‚˜ì¤‘ì— ì½ì–´ì˜¤ê¸°ë„ í¸í•¨. ê·¸ë˜ì„œ jsoníƒ€ì…ì„ ì„œë²„í†µì‹ ì‹œ ë§ì´ ì‚¬ìš©í•¨.
fetchë¥¼ ì“¸ë•Œ í•­ìƒ ì´ íŒ¨í„´

let response = await fetch(url)
let daa = await response.json()
ì€ ì„¸íŠ¸ë¡œ ë§ì´ì“°ì´ë‹ˆ ì™¸ì›Œë‘ë©´ ì¢‹ìŒ

APIí˜¸ì¶œí•˜ê³  ì‹¶ì„ ë•Œ

const callAPI = async() =>{
let url = new URL(`urlì£¼ì†Œ`)
let header = new Headers({í—¤ë”ë‚´ìš©}) // ì´ê±´ í•„ìš”í•œ ê²½ìš°ë§Œ
let response = await fetch(url,{headers:header})
let data = await response.json()
}
